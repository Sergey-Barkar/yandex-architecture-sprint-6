# Задание 1
Схема: [InureTech_технологическая архитектура_to-be.xml](./Exc1/InureTech_технологическая%20архитектура_to-be.xml)
## Масштабирование
Использование REST API подразумевает использование stateless компонентов, которые хорошо поддаются горизонтальному масштабированию. Следовательно HPA является оптимальным в данном случае. 
## Отказоустойчивость 
Поскольку недоступность приложения InsureTech имеет периодический характер, ключевым решением данной проблемы является создание специфическим метрик для идентификации проблемы.

Что касается СУБД шаблон PostgeSQL Patroni, представленный в рамках теории к данному модулю, является приемлемым для целей компании по созданию отказоустойчивого решения.

Active-active стратегия позволит лучше распределять нагрузку среди активных пользователей.
## Балансировка нагрузки
Балансировщик нагрузки уже реализован в рамках решения, однако, для улучшения опыта использования продукции компании среди региональных клиентов необходимо наличие геораспределенных ЦОД с GSBL.

# Задание 2
Конфигурируем:

`kubectl apply -f Deployment.yml,Service.yml,HPA.yml`

Получаем доступ к сервису:

`minikube service scaletestapp-service --url`

Запускаем locust:

`locust -H {ULR полученный в рамках предыдущего действия} --users=4000 --hatch-rate=10`

![image](./Exc2/scaled.jpg)

# Задание 3
Список проблем и рисков: [listOfIssues.txt](./Exc3/listOfIssues.txt)
Диаграмма контейнеров: [InsureTech_C4_сontainer-diagram.drawio.xml](./Exc3/InsureTech_C4_сontainer-diagram.drawio.xml)
Наверное здесь ожидался Kafka - хочется разнообразия. Появился бы доп. контейнер со своим протоколом взаимодействия и на этом вся история закончилась. То, что отдел разработки пошел дружно переписывать формат взаимодействия (ну да, у Кафки есть REST proxy) для всех сервисов, наверное, тоже стоит учитывать при проработке решения - поэтому...Nifi.
Формат взаимодействия сохранён, разве что некоторые функции "вывернуты" (работали как источник события и получали результат, а стали потребитями) и к ним добавились новые функции - источники событий.
Вижу в описании задания "Не меняя декомпозицию функциональности между сервисами, подумайте, какие взаимодействия стоит переделать на Event-Streaming." - данное решение подпадает, возможно с натяжкой, под эту формулировку, поскольку Nifi просто заменил собой сервис аггрегации данных (ну да, отдел разработки дружно пошел настраивать Nifi).
Transactional outbox логично применять в каждом сервисе служащим источником события, т.е. каждый сервер подходит под данное условие.
